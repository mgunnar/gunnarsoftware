<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gunnar Software</title>
    <meta name="description" content="Portfólio de Matheus Gunnar, especialista em desenvolvimento de software embarcado e sistemas web.">
    <meta property="og:title" content="Gunnar Software">
    <meta property="og:description" content="Gunnar Software: Desenvolvimento de software embarcado e sistemas web.">
    <meta property="og:type" content="website">
    <link id="favicon" rel="icon" href="">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Fontes utilizadas na página -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=VT323&display=swap" rel="stylesheet">
    <!-- Biblioteca de Ícones de Bandeira -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7/css/flag-icons.min.css"/>
    <style>
        /* CSS - ESTILIZAÇÃO */
        :root {
            --primary-color: #00ff41; /* Verde Brilhante */
            --background-color: #080810;
            --hud-frame-color: #3a3a5e;
            --text-color: #d0d0ff;
            --scanline-opacity: 0.06;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Fira Code', monospace;
            background-color: var(--background-color);
            color: var(--text-color);
            font-size: 16px;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }
        /* MODIFICAÇÃO: Estilização da Barra de Rolagem */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: var(--background-color);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border: 2px solid var(--background-color);
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #00e03a;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                repeating-linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0) 0,
                    rgba(0, 0, 0, 0) 2px,
                    rgba(255, 255, 255, var(--scanline-opacity)) 3px,
                    rgba(255, 255, 255, var(--scanline-opacity)) 4px
                );
            pointer-events: none;
            z-index: 1000;
            animation: subtle-flicker 0.2s infinite;
        }
        .container {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        .hud-border {
            border: 2px solid var(--hud-frame-color);
            padding: 1.5rem;
            margin-bottom: 2rem;
            position: relative;
            background: rgba(13, 13, 26, 0.5);
            animation: pulse-glow 4s infinite ease-in-out;
            transition: border-color 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
        }
        .hud-border::before, .hud-border::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border: 2px solid var(--primary-color);
        }
        .hud-border::before { top: -2px; left: -2px; border-right: none; border-bottom: none; }
        .hud-border::after { top: -2px; right: -2px; border-left: none; border-bottom: none; }
        .corner-bottom-left, .corner-bottom-right {
             position: absolute;
             width: 10px;
             height: 10px;
             border: 2px solid var(--primary-color);
        }
        .corner-bottom-left { bottom: -2px; left: -2px; border-top: none; border-right: none;}
        .corner-bottom-right { bottom: -2px; right: -2px; border-top: none; border-left: none;}
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 2px solid var(--hud-frame-color);
            margin-bottom: 2rem;
            position: sticky;
            top: 0;
            background-color: rgba(8, 8, 16, 0.8);
            backdrop-filter: blur(5px);
            z-index: 999;
        }
        .logo {
            color: var(--primary-color);
        }
        .logo svg {
            height: 40px;
            width: auto;
            max-width: 300px;
        }
        .logo-terminal {
            font-family: 'VT323', monospace;
            fill: var(--primary-color);
            font-size: 28px;
            text-shadow: 0 0 5px var(--primary-color);
        }
        .blinking-cursor {
            animation: blink 1s step-end infinite;
        }
        .lang-switcher {
            display: flex;
            gap: 1rem;
        }
        .lang-switcher a {
            text-decoration: none;
            opacity: 0.7;
            transition: opacity 0.3s, transform 0.3s;
            display: inline-block;
            line-height: 1;
        }
        .lang-switcher .fi {
            font-size: 1.5rem;
            border-radius: 3px;
        }
        .lang-switcher a:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        .lang-switcher a.active {
            opacity: 1;
            transform: scale(1.2);
        }
        .lang-switcher a.active .fi {
             filter: drop-shadow(0 0 5px var(--primary-color));
        }
        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        h2::before {
            content: '>> ';
        }
        .hero {
            text-align: center;
            min-height: 250px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .hero h1 {
            font-size: 2.5rem;
            margin-top: 1rem;
        }
        .typing-container {
            font-size: 1.5rem;
            height: 2.5rem;
             display: flex;
            justify-content: center;
            align-items: center;
        }
        .typing-cursor {
            display: inline-block;
            background-color: var(--primary-color);
            width: 10px;
            height: 2.2rem;
            animation: blink 1s step-end infinite;
            box-shadow: 0 0 5px var(--primary-color);
            margin-left: 5px;
        }
        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 1rem auto;
        }
        .cta-button {
            display: inline-block;
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 10px 20px;
            text-decoration: none;
            margin-top: 1.5rem;
            transition: background 0.3s, color 0.3s;
        }
        .cta-button:hover {
            background: var(--primary-color);
            color: var(--background-color);
            box-shadow: 0 0 15px var(--primary-color);
        }
        #skills-decoder {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            min-height: 400px;
        }
        .skills-category-decoder ul {
            list-style: none;
            padding: 0;
        }
        .skills-category-decoder li::before {
            content: '+ ';
            color: var(--primary-color);
        }
        .decoding-cursor {
             display: inline-block;
            background-color: var(--primary-color);
            width: 10px;
            height: 1.5rem;
            animation: blink 1s step-end infinite;
            box-shadow: 0 0 5px var(--primary-color);
            margin-left: 5px;
            vertical-align: middle;
        }
        .contact-form {
            display: flex;
            flex-direction: column;
        }
        .contact-form input, .contact-form textarea {
            background-color: rgba(0,0,0,0.3);
            border: 1px solid var(--hud-frame-color);
            color: var(--text-color);
            padding: 10px;
            margin-bottom: 1rem;
            font-family: 'Fira Code', monospace;
        }
        .contact-form input:focus, .contact-form textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 8px var(--primary-color);
        }
        .contact-form input:invalid, .contact-form textarea:invalid {
            box-shadow: 0 0 8px #ff0000;
            border-color: #ff0000;
        }
        .contact-form button {
            cursor: pointer;
        }
        footer {
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
            border-top: 2px solid var(--hud-frame-color);
            font-size: 0.9rem;
        }
        .social-links {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        .social-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 1.2rem;
            transition: transform 0.3s;
        }
        .social-links a:hover {
            transform: scale(1.1);
        }
        .social-links svg {
            width: 28px;
            height: 28px;
            fill: currentColor;
        }
       @keyframes subtle-flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.98; }
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 10px var(--hud-frame-color); }
            50% { box-shadow: 0 0 15px var(--hud-frame-color), 0 0 5px var(--primary-color); }
        }
        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }
        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1.5rem;
            }
            .logo {
                width: 100%;
                justify-content: center;
            }
            .logo svg {
                max-width: 250px;
            }
            .hero h1 {
                font-size: 2rem;
            }
             #skills-decoder {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 280 40">
                <text x="5" y="30" class="logo-terminal">> GUNNAR_SOFTWARE<tspan class="blinking-cursor">_</tspan></text>
            </svg>
        </div>
        <div class="lang-switcher">
            <a href="#" class="lang-link active" onclick="setLanguage('pt')"><span class="fi fi-br"></span></a>
            <a href="#" class="lang-link" onclick="setLanguage('en')"><span class="fi fi-us"></span></a>
            <a href="#" class="lang-link" onclick="setLanguage('es')"><span class="fi fi-es"></span></a>
            <a href="#" class="lang-link" onclick="setLanguage('fr')"><span class="fi fi-fr"></span></a>
            <a href="#" class="lang-link" onclick="setLanguage('zh')"><span class="fi fi-cn"></span></a>
            <a href="#" class="lang-link" onclick="setLanguage('ja')"><span class="fi fi-jp"></span></a>
        </div>
    </header>
    <div class="container">
        
        <section id="hero" class="hero hud-border reveal">
            <h1>Matheus Gunnar</h1>
            <div class="typing-container">
                <span class="typed-text"></span><span class="typing-cursor"></span>
            </div>
            <p data-key="hero_tagline">Da arquitetura ao firmware: construindo soluções digitais robustas que conectam a visão estratégica de alto nível à implementação eficiente em hardware.</p>
            <div class="corner-bottom-left"></div>
            <div class="corner-bottom-right"></div>
        </section>

        <section id="skills" class="hud-border reveal">
            <h2 data-key="skills_title">Core Competences</h2>
            <div id="skills-decoder"></div>
            <div class="corner-bottom-left"></div>
            <div class="corner-bottom-right"></div>
        </section>

        <section id="contact" class="hud-border reveal">
            <h2 data-key="contact_title">Envie-me uma mensagem</h2>
            <p data-key="contact_p">Tem um projeto ou uma oportunidade? Entre em contato.</p>
            <form class="contact-form" action="https://formspree.io/f/YOUR_UNIQUE_ID_HERE" method="POST">
                <input type="text" name="name" data-key="form_name_placeholder" placeholder="CALLSIGN // YOUR NAME" required>
                <input type="email" name="_replyto" data-key="form_email_placeholder" placeholder="COMM_CHANNEL // YOUR EMAIL" required>
                <textarea name="message" rows="5" data-key="form_message_placeholder" placeholder="MESSAGE..." required></textarea>
                <button type="submit" class="cta-button" data-key="form_button">[ ENVIAR ]</button>
            </form>
            <div class="corner-bottom-left"></div>
            <div class="corner-bottom-right"></div>
        </section>
    </div>
    <footer>
        <div class="social-links">
            <a href="https://github.com/mgunnar/" target="_blank" title="GitHub">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
            </a>
            <a href="https://www.linkedin.com/in/matheusgunnar" target="_blank" title="LinkedIn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            </a>
            <a href="#" id="whatsapp-share-icon" title="Share on WhatsApp">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157.1zM223.9 439.6c-35.2 0-69.2-9.2-99.4-26.9l-7.1-4.2-74.2 19.5 19.8-72.5-4.7-7.4c-18.4-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
            </a>
        </div>
        <p data-key="footer_copy">&copy; 2025 GUNNARSOFTWARE.COM :: ALL SYSTEMS NOMINAL</p>
    </footer>
    <script>
        // --- LÓGICA DE TRADUÇÃO ---
        const translations = {
            en: {
                hero_tagline: "From architecture to firmware: building robust digital solutions that connect high-level strategic vision to efficient hardware implementation.",
                skills_title: "Core Competences",
                contact_title: "Send me a message",
                contact_p: "Have a project or an opportunity? Get in touch.",
                form_name_placeholder: "CALLSIGN // YOUR NAME", form_email_placeholder: "COMM_CHANNEL // YOUR EMAIL", form_message_placeholder: "MESSAGE...",
                form_button: "[ SEND ]",
                whatsapp_share_text: "Check out the portfolio of Gunnar Software: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: ALL SYSTEMS NOMINAL"
            },
            pt: {
                hero_tagline: "Da arquitetura ao firmware: construindo soluções digitais robustas que conectam a visão estratégica de alto nível à implementação eficiente em hardware.",
                skills_title: "Competências",
                contact_title: "Envie-me uma mensagem",
                contact_p: "Tem um projeto ou uma oportunidade? Entre em contato.",
                form_name_placeholder: "IDENTIFICAÇÃO // SEU NOME", form_email_placeholder: "CANAL_COMMS // SEU EMAIL", form_message_placeholder: "MENSAGEM...",
                form_button: "[ ENVIAR ]",
                whatsapp_share_text: "Confira o portfólio da Gunnar Software: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: TODOS OS SISTEMAS NOMINAIS"
            },
            es: {
                 hero_tagline: "De la arquitectura al firmware: construyendo soluciones digitales robustas que conectan la visión estratégica de alto nivel con la implementación eficiente en hardware.",
                skills_title: "Competencias Centrales",
                contact_title: "Envíame un mensaje",
                contact_p: "¿Tienes un proyecto o una oportunidad? Ponte en contacto.",
                form_name_placeholder: "SEÑAL // TU NOMBRE", form_email_placeholder: "CANAL_COMMS // TU EMAIL", form_message_placeholder: "MENSAJE...",
                form_button: "[ ENVIAR ]",
                whatsapp_share_text: "Echa un vistazo al portafolio de Gunnar Software: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: TODOS LOS SISTEMAS NOMINALES"
            },
            fr: {
                hero_tagline: "De l'architecture au firmware : construire des solutions numériques robustes qui relient une vision stratégique de haut niveau à une mise en œuvre matérielle efficace.",
                skills_title: "Compétences de Base",
                contact_title: "Envoyez-moi un message",
                contact_p: "Vous avez un projet ou une opportunité ? Prenez contact.",
                form_name_placeholder: "INDICATIF // VOTRE NOM", form_email_placeholder: "CANAL DE COMMS // VOTRE EMAIL", form_message_placeholder: "MESSAGE...",
                form_button: "[ ENVOYER ]",
                whatsapp_share_text: "Découvrez le portfolio de Gunnar Software: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: TOUS SYSTÈMES OPÉRATIONNELS"
            },
            ja: {
                hero_tagline: "アーキテクチャからファームウェアまで：高度な戦略的ビジョンと効率的なハードウェア実装を結びつける、堅牢なデジタルソリューションを構築します。",
                skills_title: "コアコンピタンス",
                contact_title: "メッセージを送る",
                contact_p: "プロジェクトや機会がありますか？ご連絡ください。",
                form_name_placeholder: "コールサイン // あなたの名前", form_email_placeholder: "通信チャネル // あなたのメール", form_message_placeholder: "メッセージ...",
                form_button: "[ 送信 ]",
                whatsapp_share_text: "Gunnar Softwareのポートフォリオをご覧ください: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: 全システム正常"
            },
            zh: {
                hero_tagline: "从架构到固件：构建连接高级战略愿景与高效硬件实施的强大数字解决方案。",
                skills_title: "核心能力",
                contact_title: "给我留言",
                contact_p: "有项目或机会吗？请联系我。",
                form_name_placeholder: "呼号 // 您的名字", form_email_placeholder: "通信频道 // 您的电子邮件", form_message_placeholder: "信息...",
                form_button: "[ 发送 ]",
                whatsapp_share_text: "查看Gunnar Software的作品集: ",
                footer_copy: "&copy; 2025 GUNNARSOFTWARE.COM :: 所有系统正常运行"
            }
        };
        const textArrays = {
            en: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "Embedded Software"],
            pt: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "Software Embarcado"],
            es: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "Software Embebido"],
            fr: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "Logiciel Embarqué"],
            ja: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "組込みソフトウェア"],
            zh: ["Java", "Javascript", "Typescript", "SQL", "PHP", "C", "Python", "Ruby", "VHDL", "Spring", "JPA", "JUnit", "Mockito", "React", "Angular", "嵌入式软件"]
        };
        
        const skillsDataByLang = {
            en: {
                "Languages": ["Java (Advanced)", "Javascript/Typescript (Intermediate)", "SQL (Intermediate)", "PHP (Intermediate)", "C Language (Intermediate)", "Python (Basic)", "Ruby (Basic)", "VHDL (Basic)"],
                "Frameworks & Ecosystem": ["Spring (Advanced)", "JPA", "JUnit, Mockito (Intermediate)", "React (Intermediate)", "Angular (Basic)"],
                "Tools & Platforms": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "Methodologies & Practices": ["Agile Methodologies", "Clean Code", "Requirements Specification"]
            },
            pt: {
                "Linguagens": ["Java (Avançado)", "Javascript/Typescript (Intermediário)", "SQL (Intermediário)", "PHP (Intermediário)", "Linguagem C (Intermediário)", "Python (Básico)", "Ruby (Básico)", "VHDL (Básico)"],
                "Frameworks & Ecossistema": ["Spring (Avançado)", "JPA", "JUnit, Mockito (Intermediário)", "React (Intermediário)", "Angular (Básico)"],
                "Ferramentas & Plataformas": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "Metodologias & Práticas": ["Metodologias Ágeis", "Clean Code", "Especificação de Requisitos"]
            },
            es: {
                "Lenguajes": ["Java (Avanzado)", "Javascript/Typescript (Intermedio)", "SQL (Intermedio)", "PHP (Intermedio)", "Lenguaje C (Intermedio)", "Python (Básico)", "Ruby (Básico)", "VHDL (Básico)"],
                "Frameworks & Ecosistema": ["Spring (Avanzado)", "JPA", "JUnit, Mockito (Intermedio)", "React (Intermedio)", "Angular (Básico)"],
                "Herramientas & Plataformas": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "Metodologías & Prácticas": ["Metodologías Ágiles", "Clean Code", "Especificación de Requisitos"]
            },
            fr: {
                "Langages": ["Java (Avancé)", "Javascript/Typescript (Intermédiaire)", "SQL (Intermédiaire)", "PHP (Intermédiaire)", "Langage C (Intermédiaire)", "Python (Basique)", "Ruby (Basique)", "VHDL (Basique)"],
                "Frameworks & Écosystème": ["Spring (Avancé)", "JPA", "JUnit, Mockito (Intermédiaire)", "React (Intermédiaire)", "Angular (Basique)"],
                "Outils & Plateformes": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "Méthodologies & Pratiques": ["Méthodologies Agiles", "Clean Code", "Spécification des Exigences"]
            },
            ja: {
                "言語": ["Java (上級)", "Javascript/Typescript (中級)", "SQL (中級)", "PHP (中級)", "C言語 (中級)", "Python (初級)", "Ruby (初級)", "VHDL (初級)"],
                "フレームワークとエコシステム": ["Spring (上級)", "JPA", "JUnit, Mockito (中級)", "React (中級)", "Angular (初級)"],
                "ツールとプラットフォーム": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "方法論と実践": ["アジャイル方法論", "クリーンコード", "要件定義"]
            },
            zh: {
                "语言": ["Java (高级)", "Javascript/Typescript (中级)", "SQL (中级)", "PHP (中级)", "C语言 (中级)", "Python (初级)", "Ruby (初级)", "VHDL (初级)"],
                "框架与生态系统": ["Spring (高级)", "JPA", "JUnit, Mockito (中级)", "React (中级)", "Angular (初级)"],
                "工具与平台": ["Git, Bitbucket, Azure Repos, GitHub, SVN", "Gradle, Maven, Jira, Azure DevOps", "Oracle PL/SQL, MS SQL Server, MongoDB"],
                "方法论与实践": ["敏捷方法论", "整洁代码", "需求规格说明"]
            }
        };

        let currentLang = 'en';
        let typeTimeout, eraseTimeout;
        let textArrayIndex = 0;
        let charIndex = 0;
        const typedTextSpan = document.querySelector(".typed-text");
        const cursorSpan = document.querySelector(".typing-cursor");

        function setLanguage(lang) {
            const scrollY = window.pageYOffset;
            currentLang = lang; // Definir idioma atual primeiro
            
            document.querySelectorAll('[data-key]').forEach(elem => {
                const key = elem.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (key.includes('_placeholder')) {
                        elem.placeholder = translations[lang][key];
                    } else {
                        elem.innerHTML = translations[lang][key];
                    }
                }
            });
            document.documentElement.lang = lang;
            
            document.querySelectorAll('.lang-link').forEach(link => link.classList.remove('active'));
            document.querySelector(`.lang-link[onclick="setLanguage('${lang}')"]`).classList.add('active');
            
            // Reiniciar animação do herói
            clearTimeout(typeTimeout);
            clearTimeout(eraseTimeout);
            textArrayIndex = 0;
            charIndex = 0;
            if(typedTextSpan) typedTextSpan.textContent = '';
            if(cursorSpan) cursorSpan.classList.remove("typing");
            type();
            
            // Reiniciar animação de habilidades
            skillsDecoder(currentLang);

            requestAnimationFrame(() => {
                window.scrollTo({ top: scrollY, behavior: 'instant' });
            });
        }

        function type() {
            if (!typedTextSpan || !cursorSpan) return;
            const currentTextArray = textArrays[currentLang];
            if (!currentTextArray) return;
            if (charIndex < currentTextArray[textArrayIndex].length) {
                if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
                typedTextSpan.textContent += currentTextArray[textArrayIndex].charAt(charIndex);
                charIndex++;
                typeTimeout = setTimeout(type, 100);
            } else {
                cursorSpan.classList.remove("typing");
                eraseTimeout = setTimeout(erase, 2000);
            }
        }

        function erase() {
            if (!typedTextSpan || !cursorSpan) return;
            const currentTextArray = textArrays[currentLang];
            if (!currentTextArray) return;
            if (charIndex > 0) {
                if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
                typedTextSpan.textContent = currentTextArray[textArrayIndex].substring(0, charIndex - 1);
                charIndex--;
                eraseTimeout = setTimeout(erase, 50);
            } else {
                cursorSpan.classList.remove("typing");
                textArrayIndex++;
                if (textArrayIndex >= currentTextArray.length) textArrayIndex = 0;
                typeTimeout = setTimeout(type, 1100);
            }
        }
        
        let skillObserver;
        let skillAnimationController = new AbortController();

        function skillsDecoder(lang) {
            const container = document.getElementById('skills-decoder');
            if (!container) return;
            
            // Abortar animação anterior se estiver em andamento
            skillAnimationController.abort();
            skillAnimationController = new AbortController();
            const signal = skillAnimationController.signal;

            // Limpar observador anterior
            if(skillObserver) skillObserver.disconnect();

            const skillsData = skillsDataByLang[lang];
            
            let hasBeenActivated = false;
            container.innerHTML = ''; // Limpar container para reiniciar
            
            async function typeLine(element, text, speed = 50) {
                return new Promise(resolve => {
                    let i = 0;
                    element.innerHTML = ''; 
                    const cursor = document.createElement('span');
                    cursor.className = 'decoding-cursor';
                    
                    function typing() {
                        if (signal.aborted) return;
                        if (i < text.length) {
                            element.innerHTML = text.substring(0, i + 1);
                            element.appendChild(cursor);
                            i++;
                            setTimeout(typing, speed);
                        } else {
                            element.innerHTML = text;
                            resolve();
                        }
                    }
                    typing();
                });
            }

            async function decodeCategories() {
                const categories = Object.keys(skillsData);
                for (let i = 0; i < categories.length; i++) {
                    if (signal.aborted) return;
                    const categoryName = categories[i];
                    const skillsList = skillsData[categoryName];
                    
                    const categoryContainer = document.createElement('div');
                    categoryContainer.className = 'skills-category-decoder';
                    const titleElement = document.createElement('h3');
                    const listElement = document.createElement('ul');
                    
                    container.appendChild(categoryContainer);
                    categoryContainer.appendChild(titleElement);
                    categoryContainer.appendChild(listElement);

                    await typeLine(titleElement, categoryName, 40);
                    
                    for(const skill of skillsList) {
                        if (signal.aborted) return;
                        const listItem = document.createElement('li');
                        listElement.appendChild(listItem);
                        await typeLine(listItem, skill, 20);
                        await new Promise(resolve => setTimeout(resolve, 50));
                    }
                    await new Promise(resolve => setTimeout(resolve, 300));
                }
            }
            
            skillObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasBeenActivated) {
                        hasBeenActivated = true;
                        decodeCategories();
                    }
                });
            }, { threshold: 0.5 }); 

            skillObserver.observe(container);
        };


        document.addEventListener('DOMContentLoaded', function() {
            // Lógica do Favicon Animado
            const faviconLink = document.getElementById('favicon');
            const favicons = [
                'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><path fill=%22none%22 stroke=%22%2300ff41%22 stroke-width=%222%22 d=%22M1 8 C1 8 5 2 8 2 C11 2 15 8 15 8 C15 8 11 14 8 14 C5 14 1 8 1 8z%22 /><circle cx=%228%22 cy=%228%22 r=%222%22 fill=%22%2300ff41%22/></svg>',
                'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><rect width=%2216%22 height=%224%22 y=%226%22 fill=%22%2300ff41%22/></svg>'
            ];
            let faviconIndex = 0;
            setInterval(() => {
                if(faviconLink) {
                   faviconLink.href = favicons[faviconIndex];
                   faviconIndex = (faviconIndex + 1) % favicons.length;
                }
            }, 2000);
            const shareBtn = document.getElementById('whatsapp-share-icon');
            shareBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const shareText = encodeURIComponent(translations[currentLang].whatsapp_share_text + window.location.href);
                window.open(`https://api.whatsapp.com/send?text=${shareText}`, '_blank');
            });
            
            // Lógica de Revelar ao Rolar
            const revealElements = document.querySelectorAll('.reveal');
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            revealElements.forEach(elem => {
                revealObserver.observe(elem);
            });
            const userLang = navigator.language || navigator.userLanguage;
            let initialLang = 'pt';
            if (userLang.startsWith('en')) initialLang = 'en';
            else if (userLang.startsWith('es')) initialLang = 'es';
            else if (userLang.startsWith('fr')) initialLang = 'fr';
            else if (userLang.startsWith('ja')) initialLang = 'ja';
            else if (userLang.startsWith('zh')) initialLang = 'zh';
            
            setLanguage(initialLang);
        });
    </script>
</body>
</html>
